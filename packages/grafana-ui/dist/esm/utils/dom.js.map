{"version":3,"file":"dom.js","sources":["../../../src/utils/dom.ts"],"sourcesContent":["// Node.closest() polyfill\nif (typeof window !== 'undefined' && 'Element' in window && !Element.prototype.closest) {\n  Element.prototype.closest = function (this: any, s: string) {\n    const matches = (this.document || this.ownerDocument).querySelectorAll(s);\n    let el = this;\n    let i;\n    // eslint-disable-next-line\n    do {\n      i = matches.length;\n      // eslint-disable-next-line\n      while (--i >= 0 && matches.item(i) !== el) {}\n      el = el.parentElement;\n    } while (i < 0 && el);\n    return el;\n  };\n}\n\nexport function getPreviousCousin(node: any, selector: string) {\n  let sibling = node.parentElement.previousSibling;\n  let el;\n  while (sibling) {\n    el = sibling.querySelector(selector);\n    if (el) {\n      return el;\n    }\n    sibling = sibling.previousSibling;\n  }\n  return undefined;\n}\n\nexport function getNextCharacter(global?: any) {\n  const selection = (global || window).getSelection();\n  if (!selection || !selection.anchorNode) {\n    return null;\n  }\n\n  const range = selection.getRangeAt(0);\n  const text = selection.anchorNode.textContent;\n  const offset = range.startOffset;\n  return text!.slice(offset, offset + 1);\n}\n"],"names":[],"mappings":"AACA,IAAI,OAAO,WAAW,WAAe,IAAA,SAAA,IAAa,UAAU,CAAC,OAAA,CAAQ,UAAU,OAAS,EAAA;AACtF,EAAQ,OAAA,CAAA,SAAA,CAAU,OAAU,GAAA,SAAqB,CAAW,EAAA;AAC1D,IAAA,MAAM,WAAW,IAAK,CAAA,QAAA,IAAY,IAAK,CAAA,aAAA,EAAe,iBAAiB,CAAC,CAAA,CAAA;AACxE,IAAA,IAAI,EAAK,GAAA,IAAA,CAAA;AACT,IAAI,IAAA,CAAA,CAAA;AAEJ,IAAG,GAAA;AACD,MAAA,CAAA,GAAI,OAAQ,CAAA,MAAA,CAAA;AAEZ,MAAA,OAAO,EAAE,CAAK,IAAA,CAAA,IAAK,QAAQ,IAAK,CAAA,CAAC,MAAM,EAAI,EAAA;AAAA,OAAC;AAC5C,MAAA,EAAA,GAAK,EAAG,CAAA,aAAA,CAAA;AAAA,KACV,QAAS,IAAI,CAAK,IAAA,EAAA,EAAA;AAClB,IAAO,OAAA,EAAA,CAAA;AAAA,GACT,CAAA;AACF,CAAA;AAEgB,SAAA,iBAAA,CAAkB,MAAW,QAAkB,EAAA;AAC7D,EAAI,IAAA,OAAA,GAAU,KAAK,aAAc,CAAA,eAAA,CAAA;AACjC,EAAI,IAAA,EAAA,CAAA;AACJ,EAAA,OAAO,OAAS,EAAA;AACd,IAAK,EAAA,GAAA,OAAA,CAAQ,cAAc,QAAQ,CAAA,CAAA;AACnC,IAAA,IAAI,EAAI,EAAA;AACN,MAAO,OAAA,EAAA,CAAA;AAAA,KACT;AACA,IAAA,OAAA,GAAU,OAAQ,CAAA,eAAA,CAAA;AAAA,GACpB;AACA,EAAO,OAAA,KAAA,CAAA,CAAA;AACT,CAAA;AAEO,SAAS,iBAAiB,MAAc,EAAA;AAC7C,EAAM,MAAA,SAAA,GAAA,CAAa,MAAU,IAAA,MAAA,EAAQ,YAAa,EAAA,CAAA;AAClD,EAAA,IAAI,CAAC,SAAA,IAAa,CAAC,SAAA,CAAU,UAAY,EAAA;AACvC,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAEA,EAAM,MAAA,KAAA,GAAQ,SAAU,CAAA,UAAA,CAAW,CAAC,CAAA,CAAA;AACpC,EAAM,MAAA,IAAA,GAAO,UAAU,UAAW,CAAA,WAAA,CAAA;AAClC,EAAA,MAAM,SAAS,KAAM,CAAA,WAAA,CAAA;AACrB,EAAA,OAAO,IAAM,CAAA,KAAA,CAAM,MAAQ,EAAA,MAAA,GAAS,CAAC,CAAA,CAAA;AACvC;;;;"}