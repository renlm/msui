{"version":3,"file":"MultiModeGraphTooltip.js","sources":["../../../../../src/graveyard/Graph/GraphTooltip/MultiModeGraphTooltip.tsx"],"sourcesContent":["import React from 'react';\n\nimport { getValueFromDimension } from '@grafana/data';\n\nimport { SeriesTable } from '../../../components/VizTooltip';\nimport { FlotPosition } from '../../../components/VizTooltip/VizTooltip';\nimport { getMultiSeriesGraphHoverInfo } from '../utils';\n\nimport { GraphTooltipContentProps } from './types';\n\n/** @deprecated */\ntype Props = GraphTooltipContentProps & {\n  // We expect position to figure out correct values when not hovering over a datapoint\n  pos: FlotPosition;\n};\n\n/** @deprecated */\nexport const MultiModeGraphTooltip = ({ dimensions, activeDimensions, pos, timeZone }: Props) => {\n  let activeSeriesIndex: number | null = null;\n  // when no x-axis provided, skip rendering\n  if (activeDimensions.xAxis === null) {\n    return null;\n  }\n\n  if (activeDimensions.yAxis) {\n    activeSeriesIndex = activeDimensions.yAxis[0];\n  }\n\n  // when not hovering over a point, time is undefined, and we use pos.x as time\n  const time = activeDimensions.xAxis[1]\n    ? getValueFromDimension(dimensions.xAxis, activeDimensions.xAxis[0], activeDimensions.xAxis[1])\n    : pos.x;\n\n  const hoverInfo = getMultiSeriesGraphHoverInfo(dimensions.yAxis.columns, dimensions.xAxis.columns, time, timeZone);\n  const timestamp = hoverInfo.time;\n\n  const series = hoverInfo.results.map((s, i) => {\n    return {\n      color: s.color,\n      label: s.label,\n      value: s.value,\n      isActive: activeSeriesIndex === i,\n    };\n  });\n\n  return <SeriesTable series={series} timestamp={timestamp} />;\n};\n\nMultiModeGraphTooltip.displayName = 'MultiModeGraphTooltip';\n"],"names":["React"],"mappings":";;;;;;;AAiBO,MAAM,wBAAwB,CAAC,EAAE,YAAY,gBAAkB,EAAA,GAAA,EAAK,UAAsB,KAAA;AAC/F,EAAA,IAAI,iBAAmC,GAAA,IAAA,CAAA;AAEvC,EAAI,IAAA,gBAAA,CAAiB,UAAU,IAAM,EAAA;AACnC,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAEA,EAAA,IAAI,iBAAiB,KAAO,EAAA;AAC1B,IAAoB,iBAAA,GAAA,gBAAA,CAAiB,MAAM,CAAC,CAAA,CAAA;AAAA,GAC9C;AAGA,EAAA,MAAM,OAAO,gBAAiB,CAAA,KAAA,CAAM,CAAC,CAAA,GACjC,sBAAsB,UAAW,CAAA,KAAA,EAAO,gBAAiB,CAAA,KAAA,CAAM,CAAC,CAAG,EAAA,gBAAA,CAAiB,MAAM,CAAC,CAAC,IAC5F,GAAI,CAAA,CAAA,CAAA;AAER,EAAM,MAAA,SAAA,GAAY,6BAA6B,UAAW,CAAA,KAAA,CAAM,SAAS,UAAW,CAAA,KAAA,CAAM,OAAS,EAAA,IAAc,CAAA,CAAA;AACjH,EAAA,MAAM,YAAY,SAAU,CAAA,IAAA,CAAA;AAE5B,EAAA,MAAM,SAAS,SAAU,CAAA,OAAA,CAAQ,GAAI,CAAA,CAAC,GAAG,CAAM,KAAA;AAC7C,IAAO,OAAA;AAAA,MACL,OAAO,CAAE,CAAA,KAAA;AAAA,MACT,OAAO,CAAE,CAAA,KAAA;AAAA,MACT,OAAO,CAAE,CAAA,KAAA;AAAA,MACT,UAAU,iBAAsB,KAAA,CAAA;AAAA,KAClC,CAAA;AAAA,GACD,CAAA,CAAA;AAED,EAAO,uBAAAA,cAAA,CAAA,aAAA,CAAC,WAAY,EAAA,EAAA,MAAA,EAAgB,SAAsB,EAAA,CAAA,CAAA;AAC5D,EAAA;AAEA,qBAAA,CAAsB,WAAc,GAAA,uBAAA;;;;"}