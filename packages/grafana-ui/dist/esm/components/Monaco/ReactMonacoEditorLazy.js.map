{"version":3,"file":"ReactMonacoEditorLazy.js","sources":["../../../../src/components/Monaco/ReactMonacoEditorLazy.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useStyles2 } from '../../themes';\nimport { useAsyncDependency } from '../../utils/useAsyncDependency';\nimport { ErrorWithStack } from '../ErrorBoundary/ErrorWithStack';\nimport { LoadingPlaceholder } from '../LoadingPlaceholder/LoadingPlaceholder';\n\n// we only use import type so it will not be included in the bundle\nimport type { ReactMonacoEditorProps } from './types';\n\n/**\n * @internal\n * Experimental export\n **/\nexport const ReactMonacoEditorLazy = (props: ReactMonacoEditorProps) => {\n  const styles = useStyles2(getStyles);\n  const { loading, error, dependency } = useAsyncDependency(\n    import(/* webpackChunkName: \"react-monaco-editor\" */ './ReactMonacoEditor')\n  );\n\n  if (loading) {\n    return <LoadingPlaceholder text={'Loading editor'} className={styles.container} />;\n  }\n\n  if (error) {\n    return (\n      <ErrorWithStack\n        title=\"React Monaco Editor failed to load\"\n        error={error}\n        errorInfo={{ componentStack: error?.stack ?? '' }}\n      />\n    );\n  }\n\n  const ReactMonacoEditor = dependency.ReactMonacoEditor;\n  return (\n    <ReactMonacoEditor\n      {...props}\n      loading={props.loading ?? null}\n      wrapperProps={{\n        'data-testid': selectors.components.ReactMonacoEditor.editorLazy,\n      }}\n    />\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css({\n      marginBottom: 'unset',\n      marginLeft: theme.spacing(1),\n    }),\n  };\n};\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBa,MAAA,qBAAA,GAAwB,CAAC,KAAkC,KAAA;AAlBxE,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAmBE,EAAM,MAAA,MAAA,GAAS,WAAW,SAAS,CAAA,CAAA;AACnC,EAAA,MAAM,EAAE,OAAA,EAAS,KAAO,EAAA,UAAA,EAAe,GAAA,kBAAA;AAAA,IACrC;AAAA;AAAA,MAAqD,wBAAA;AAAA,KAAqB;AAAA,GAC5E,CAAA;AAEA,EAAA,IAAI,OAAS,EAAA;AACX,IAAA,oDAAQ,kBAAmB,EAAA,EAAA,IAAA,EAAM,gBAAkB,EAAA,SAAA,EAAW,OAAO,SAAW,EAAA,CAAA,CAAA;AAAA,GAClF;AAEA,EAAA,IAAI,KAAO,EAAA;AACT,IACE,uBAAAA,cAAA,CAAA,aAAA;AAAA,MAAC,cAAA;AAAA,MAAA;AAAA,QACC,KAAM,EAAA,oCAAA;AAAA,QACN,KAAA;AAAA,QACA,WAAW,EAAE,cAAA,EAAA,CAAgB,EAAO,GAAA,KAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,KAAA,CAAA,KAAA,KAAP,YAAgB,EAAG,EAAA;AAAA,OAAA;AAAA,KAClD,CAAA;AAAA,GAEJ;AAEA,EAAA,MAAM,oBAAoB,UAAW,CAAA,iBAAA,CAAA;AACrC,EACE,uBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,iBAAA;AAAA,IAAA,aAAA,CAAA,cAAA,CAAA,EAAA,EACK,KADL,CAAA,EAAA;AAAA,MAEC,OAAA,EAAA,CAAS,EAAM,GAAA,KAAA,CAAA,OAAA,KAAN,IAAiB,GAAA,EAAA,GAAA,IAAA;AAAA,MAC1B,YAAc,EAAA;AAAA,QACZ,aAAA,EAAe,SAAU,CAAA,UAAA,CAAW,iBAAkB,CAAA,UAAA;AAAA,OACxD;AAAA,KAAA,CAAA;AAAA,GACF,CAAA;AAEJ,EAAA;AAEA,MAAM,SAAA,GAAY,CAAC,KAAyB,KAAA;AAC1C,EAAO,OAAA;AAAA,IACL,WAAW,GAAI,CAAA;AAAA,MACb,YAAc,EAAA,OAAA;AAAA,MACd,UAAA,EAAY,KAAM,CAAA,OAAA,CAAQ,CAAC,CAAA;AAAA,KAC5B,CAAA;AAAA,GACH,CAAA;AACF,CAAA;;;;"}