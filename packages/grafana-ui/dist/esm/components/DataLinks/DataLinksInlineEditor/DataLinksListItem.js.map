{"version":3,"file":"DataLinksListItem.js","sources":["../../../../../src/components/DataLinks/DataLinksInlineEditor/DataLinksListItem.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React from 'react';\n\nimport { DataFrame, DataLink, GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../../themes';\nimport { isCompactUrl } from '../../../utils/dataLinks';\nimport { FieldValidationMessage } from '../../Forms/FieldValidationMessage';\nimport { IconButton } from '../../IconButton/IconButton';\n\nexport interface DataLinksListItemProps {\n  index: number;\n  link: DataLink;\n  data: DataFrame[];\n  onChange: (index: number, link: DataLink) => void;\n  onEdit: () => void;\n  onRemove: () => void;\n  isEditing?: boolean;\n}\n\nexport const DataLinksListItem = ({ link, onEdit, onRemove }: DataLinksListItemProps) => {\n  const styles = useStyles2(getDataLinkListItemStyles);\n  const { title = '', url = '' } = link;\n\n  const hasTitle = title.trim() !== '';\n  const hasUrl = url.trim() !== '';\n\n  const isCompactExploreUrl = isCompactUrl(url);\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.titleWrapper}>\n        <div className={cx(styles.url, !hasUrl && styles.notConfigured, isCompactExploreUrl && styles.errored)}>\n          {hasTitle ? title : 'Data link title not provided'}\n        </div>\n        <div className={styles.actionButtons}>\n          <IconButton name=\"pen\" onClick={onEdit} tooltip=\"Edit data link title\" />\n          <IconButton name=\"times\" onClick={onRemove} tooltip=\"Remove data link title\" />\n        </div>\n      </div>\n      <div\n        className={cx(styles.url, !hasUrl && styles.notConfigured, isCompactExploreUrl && styles.errored)}\n        title={url}\n      >\n        {hasUrl ? url : 'Data link url not provided'}\n      </div>\n      {isCompactExploreUrl && (\n        <FieldValidationMessage>Explore data link may not work in the future. Please edit.</FieldValidationMessage>\n      )}\n    </div>\n  );\n};\n\nconst getDataLinkListItemStyles = (theme: GrafanaTheme2) => {\n  return {\n    wrapper: css({\n      marginBottom: theme.spacing(2),\n      width: '100%',\n      '&:last-child': {\n        marginBottom: 0,\n      },\n      display: 'flex',\n      flexDirection: 'column',\n    }),\n    titleWrapper: css({\n      label: 'data-links-list-item-title',\n      justifyContent: 'space-between',\n      display: 'flex',\n      width: '100%',\n      alignItems: 'center',\n    }),\n    actionButtons: css({\n      marginLeft: theme.spacing(1),\n      display: 'flex',\n    }),\n    errored: css({\n      color: theme.colors.error.text,\n      fontStyle: 'italic',\n    }),\n    notConfigured: css({\n      fontStyle: 'italic',\n    }),\n    title: css({\n      color: theme.colors.text.primary,\n      fontSize: theme.typography.size.sm,\n      fontWeight: theme.typography.fontWeightMedium,\n    }),\n    url: css({\n      color: theme.colors.text.secondary,\n      fontSize: theme.typography.size.sm,\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      maxWidth: '90%',\n    }),\n  };\n};\n"],"names":["React"],"mappings":"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"}