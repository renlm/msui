{"version":3,"file":"CellActions.js","sources":["../../../../src/components/Table/CellActions.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\n\nimport { IconSize } from '../../types/icon';\nimport { IconButton } from '../IconButton/IconButton';\nimport { Stack } from '../Layout/Stack/Stack';\nimport { TooltipPlacement } from '../Tooltip';\n\nimport { TableCellInspector } from './TableCellInspector';\nimport { FILTER_FOR_OPERATOR, FILTER_OUT_OPERATOR, TableCellProps } from './types';\nimport { getTextAlign } from './utils';\n\ninterface CellActionProps extends TableCellProps {\n  previewMode: 'text' | 'code';\n}\n\ninterface CommonButtonProps {\n  size: IconSize;\n  showFilters?: boolean;\n  tooltipPlacement: TooltipPlacement;\n}\n\nexport function CellActions({ field, cell, previewMode, showFilters, onCellFilterAdded }: CellActionProps) {\n  const [isInspecting, setIsInspecting] = useState(false);\n\n  const isRightAligned = getTextAlign(field) === 'flex-end';\n  const inspectEnabled = Boolean(field.config.custom?.inspect);\n  const commonButtonProps: CommonButtonProps = {\n    size: 'sm',\n    tooltipPlacement: 'top',\n  };\n\n  const onFilterFor = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (onCellFilterAdded) {\n        onCellFilterAdded({ key: field.name, operator: FILTER_FOR_OPERATOR, value: cell.value });\n      }\n    },\n    [cell, field, onCellFilterAdded]\n  );\n  const onFilterOut = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (onCellFilterAdded) {\n        onCellFilterAdded({ key: field.name, operator: FILTER_OUT_OPERATOR, value: cell.value });\n      }\n    },\n    [cell, field, onCellFilterAdded]\n  );\n\n  return (\n    <>\n      <div className={`cellActions${isRightAligned ? ' cellActionsLeft' : ''}`}>\n        <Stack gap={0.5}>\n          {inspectEnabled && (\n            <IconButton\n              name=\"eye\"\n              tooltip=\"Inspect value\"\n              onClick={() => {\n                setIsInspecting(true);\n              }}\n              {...commonButtonProps}\n            />\n          )}\n          {showFilters && (\n            <IconButton name={'search-plus'} onClick={onFilterFor} tooltip=\"Filter for value\" {...commonButtonProps} />\n          )}\n          {showFilters && (\n            <IconButton name={'search-minus'} onClick={onFilterOut} tooltip=\"Filter out value\" {...commonButtonProps} />\n          )}\n        </Stack>\n      </div>\n\n      {isInspecting && (\n        <TableCellInspector\n          mode={previewMode}\n          value={cell.value}\n          onDismiss={() => {\n            setIsInspecting(false);\n          }}\n        />\n      )}\n    </>\n  );\n}\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAqBO,SAAS,YAAY,EAAE,KAAA,EAAO,MAAM,WAAa,EAAA,WAAA,EAAa,mBAAsC,EAAA;AArB3G,EAAA,IAAA,EAAA,CAAA;AAsBE,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAI,SAAS,KAAK,CAAA,CAAA;AAEtD,EAAM,MAAA,cAAA,GAAiB,YAAa,CAAA,KAAK,CAAM,KAAA,UAAA,CAAA;AAC/C,EAAA,MAAM,iBAAiB,OAAQ,CAAA,CAAA,EAAA,GAAA,KAAA,CAAM,MAAO,CAAA,MAAA,KAAb,mBAAqB,OAAO,CAAA,CAAA;AAC3D,EAAA,MAAM,iBAAuC,GAAA;AAAA,IAC3C,IAAM,EAAA,IAAA;AAAA,IACN,gBAAkB,EAAA,KAAA;AAAA,GACpB,CAAA;AAEA,EAAA,MAAM,WAAc,GAAA,WAAA;AAAA,IAClB,CAAC,KAA+C,KAAA;AAC9C,MAAA,IAAI,iBAAmB,EAAA;AACrB,QAAkB,iBAAA,CAAA,EAAE,KAAK,KAAM,CAAA,IAAA,EAAM,UAAU,mBAAqB,EAAA,KAAA,EAAO,IAAK,CAAA,KAAA,EAAO,CAAA,CAAA;AAAA,OACzF;AAAA,KACF;AAAA,IACA,CAAC,IAAM,EAAA,KAAA,EAAO,iBAAiB,CAAA;AAAA,GACjC,CAAA;AACA,EAAA,MAAM,WAAc,GAAA,WAAA;AAAA,IAClB,CAAC,KAA+C,KAAA;AAC9C,MAAA,IAAI,iBAAmB,EAAA;AACrB,QAAkB,iBAAA,CAAA,EAAE,KAAK,KAAM,CAAA,IAAA,EAAM,UAAU,mBAAqB,EAAA,KAAA,EAAO,IAAK,CAAA,KAAA,EAAO,CAAA,CAAA;AAAA,OACzF;AAAA,KACF;AAAA,IACA,CAAC,IAAM,EAAA,KAAA,EAAO,iBAAiB,CAAA;AAAA,GACjC,CAAA;AAEA,EAAA,uBAEIA,cAAA,CAAA,aAAA,CAAAA,cAAA,CAAA,QAAA,EAAA,IAAA,kBAAAA,cAAA,CAAA,aAAA,CAAC,KAAI,EAAA,EAAA,SAAA,EAAW,CAAc,WAAA,EAAA,cAAA,GAAiB,kBAAqB,GAAA,EAAE,CACpE,CAAA,EAAA,kBAAAA,cAAA,CAAA,aAAA,CAAC,KAAM,EAAA,EAAA,GAAA,EAAK,OACT,cACC,oBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,UAAA;AAAA,IAAA,cAAA,CAAA;AAAA,MACC,IAAK,EAAA,KAAA;AAAA,MACL,OAAQ,EAAA,eAAA;AAAA,MACR,SAAS,MAAM;AACb,QAAA,eAAA,CAAgB,IAAI,CAAA,CAAA;AAAA,OACtB;AAAA,KACI,EAAA,iBAAA,CAAA;AAAA,GACN,EAED,WACC,oBAAAA,cAAA,CAAA,aAAA,CAAC,UAAW,EAAA,cAAA,CAAA,EAAA,IAAA,EAAM,eAAe,OAAS,EAAA,WAAA,EAAa,OAAQ,EAAA,kBAAA,EAAA,EAAuB,iBAAmB,CAAA,CAAA,EAE1G,+BACEA,cAAA,CAAA,aAAA,CAAA,UAAA,EAAA,cAAA,CAAA,EAAW,IAAM,EAAA,cAAA,EAAgB,OAAS,EAAA,WAAA,EAAa,OAAQ,EAAA,kBAAA,EAAA,EAAuB,iBAAmB,CAAA,CAE9G,CACF,CAAA,EAEC,YACC,oBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,kBAAA;AAAA,IAAA;AAAA,MACC,IAAM,EAAA,WAAA;AAAA,MACN,OAAO,IAAK,CAAA,KAAA;AAAA,MACZ,WAAW,MAAM;AACf,QAAA,eAAA,CAAgB,KAAK,CAAA,CAAA;AAAA,OACvB;AAAA,KAAA;AAAA,GAGN,CAAA,CAAA;AAEJ;;;;"}