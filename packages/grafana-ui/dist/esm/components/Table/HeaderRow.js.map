{"version":3,"file":"HeaderRow.js","sources":["../../../../src/components/Table/HeaderRow.tsx"],"sourcesContent":["import React from 'react';\nimport { HeaderGroup, Column } from 'react-table';\n\nimport { Field } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { getFieldTypeIcon } from '../../types';\nimport { Icon } from '../Icon/Icon';\n\nimport { Filter } from './Filter';\nimport { TableStyles } from './styles';\nimport { TableFieldOptions } from './types';\n\nexport interface HeaderRowProps {\n  headerGroups: HeaderGroup[];\n  showTypeIcons?: boolean;\n  tableStyles: TableStyles;\n}\n\nexport const HeaderRow = (props: HeaderRowProps) => {\n  const { headerGroups, showTypeIcons, tableStyles } = props;\n  const e2eSelectorsTable = selectors.components.Panels.Visualization.Table;\n\n  return (\n    <div role=\"rowgroup\" className={tableStyles.headerRow}>\n      {headerGroups.map((headerGroup: HeaderGroup) => {\n        const { key, ...headerGroupProps } = headerGroup.getHeaderGroupProps();\n        return (\n          <div\n            className={tableStyles.thead}\n            {...headerGroupProps}\n            key={key}\n            aria-label={e2eSelectorsTable.header}\n            role=\"row\"\n          >\n            {headerGroup.headers.map((column: Column, index: number) =>\n              renderHeaderCell(column, tableStyles, showTypeIcons)\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nfunction renderHeaderCell(column: any, tableStyles: TableStyles, showTypeIcons?: boolean) {\n  const headerProps = column.getHeaderProps();\n  const field: Field = column.field ?? null;\n  const tableFieldOptions: TableFieldOptions | undefined = field?.config.custom;\n\n  if (column.canResize) {\n    headerProps.style.userSelect = column.isResizing ? 'none' : 'auto'; // disables selecting text while resizing\n  }\n\n  headerProps.style.position = 'absolute';\n  headerProps.style.justifyContent = column.justifyContent;\n  headerProps.style.left = column.totalLeft;\n\n  let headerContent = column.render('Header');\n\n  let sortHeaderContent = column.canSort && (\n    <>\n      <button {...column.getSortByToggleProps()} className={tableStyles.headerCellLabel}>\n        {showTypeIcons && (\n          <Icon name={getFieldTypeIcon(field)} title={field?.type} size=\"sm\" className={tableStyles.typeIcon} />\n        )}\n        <div>{headerContent}</div>\n        {column.isSorted &&\n          (column.isSortedDesc ? (\n            <Icon size=\"lg\" name=\"arrow-down\" className={tableStyles.sortIcon} />\n          ) : (\n            <Icon name=\"arrow-up\" size=\"lg\" className={tableStyles.sortIcon} />\n          ))}\n      </button>\n      {column.canFilter && <Filter column={column} tableStyles={tableStyles} field={field} />}\n    </>\n  );\n  if (sortHeaderContent && tableFieldOptions?.headerComponent) {\n    sortHeaderContent = <tableFieldOptions.headerComponent field={field} defaultContent={sortHeaderContent} />;\n  } else if (tableFieldOptions?.headerComponent) {\n    headerContent = <tableFieldOptions.headerComponent field={field} defaultContent={headerContent} />;\n  }\n\n  return (\n    <div className={tableStyles.headerCell} {...headerProps} role=\"columnheader\">\n      {column.canSort && sortHeaderContent}\n      {!column.canSort && headerContent}\n      {!column.canSort && column.canFilter && <Filter column={column} tableStyles={tableStyles} field={field} />}\n      {column.canResize && <div {...column.getResizerProps()} className={tableStyles.resizeHandle} />}\n    </div>\n  );\n}\n"],"names":["React"],"mappings":"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"}