{"version":3,"file":"store.js","sources":["../../../../../src/gcopypaste/app/core/store.ts"],"sourcesContent":["// Core Grafana history https://github.com/grafana/grafana/blob/v11.0.0-preview/public/app/core/store.ts\ntype StoreValue = string | number | boolean | null;\n\nexport class Store {\n  get(key: string) {\n    return window.localStorage[key];\n  }\n\n  set(key: string, value: StoreValue) {\n    window.localStorage[key] = value;\n  }\n\n  getBool(key: string, def: boolean): boolean {\n    if (def !== void 0 && !this.exists(key)) {\n      return def;\n    }\n    return window.localStorage[key] === 'true';\n  }\n\n  getObject<T = unknown>(key: string): T | undefined;\n  getObject<T = unknown>(key: string, def: T): T;\n  getObject<T = unknown>(key: string, def?: T) {\n    let ret = def;\n    if (this.exists(key)) {\n      const json = window.localStorage[key];\n      try {\n        ret = JSON.parse(json);\n      } catch (error) {\n        console.error(`Error parsing store object: ${key}. Returning default: ${def}. [${error}]`);\n      }\n    }\n    return ret;\n  }\n\n  /* Returns true when successfully stored, throws error if not successfully stored */\n  setObject(key: string, value: unknown) {\n    let json;\n    try {\n      json = JSON.stringify(value);\n    } catch (error) {\n      throw new Error(`Could not stringify object: ${key}. [${error}]`);\n    }\n    try {\n      this.set(key, json);\n    } catch (error) {\n      // Likely hitting storage quota\n      const errorToThrow = new Error(`Could not save item in localStorage: ${key}. [${error}]`);\n      if (error instanceof Error) {\n        errorToThrow.name = error.name;\n      }\n      throw errorToThrow;\n    }\n    return true;\n  }\n\n  exists(key: string) {\n    return window.localStorage[key] !== void 0;\n  }\n\n  delete(key: string) {\n    window.localStorage.removeItem(key);\n  }\n}\n\nconst store = new Store();\nexport default store;\n"],"names":[],"mappings":"AAGO,MAAM,KAAM,CAAA;AAAA,EACjB,IAAI,GAAa,EAAA;AACf,IAAO,OAAA,MAAA,CAAO,aAAa,GAAG,CAAA,CAAA;AAAA,GAChC;AAAA,EAEA,GAAA,CAAI,KAAa,KAAmB,EAAA;AAClC,IAAO,MAAA,CAAA,YAAA,CAAa,GAAG,CAAI,GAAA,KAAA,CAAA;AAAA,GAC7B;AAAA,EAEA,OAAA,CAAQ,KAAa,GAAuB,EAAA;AAC1C,IAAA,IAAI,QAAQ,KAAU,CAAA,IAAA,CAAC,IAAK,CAAA,MAAA,CAAO,GAAG,CAAG,EAAA;AACvC,MAAO,OAAA,GAAA,CAAA;AAAA,KACT;AACA,IAAO,OAAA,MAAA,CAAO,YAAa,CAAA,GAAG,CAAM,KAAA,MAAA,CAAA;AAAA,GACtC;AAAA,EAIA,SAAA,CAAuB,KAAa,GAAS,EAAA;AAC3C,IAAA,IAAI,GAAM,GAAA,GAAA,CAAA;AACV,IAAI,IAAA,IAAA,CAAK,MAAO,CAAA,GAAG,CAAG,EAAA;AACpB,MAAM,MAAA,IAAA,GAAO,MAAO,CAAA,YAAA,CAAa,GAAG,CAAA,CAAA;AACpC,MAAI,IAAA;AACF,QAAM,GAAA,GAAA,IAAA,CAAK,MAAM,IAAI,CAAA,CAAA;AAAA,eACd,KAAO,EAAA;AACd,QAAA,OAAA,CAAQ,MAAM,CAA+B,4BAAA,EAAA,GAAG,wBAAwB,GAAG,CAAA,GAAA,EAAM,KAAK,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,OAC3F;AAAA,KACF;AACA,IAAO,OAAA,GAAA,CAAA;AAAA,GACT;AAAA;AAAA,EAGA,SAAA,CAAU,KAAa,KAAgB,EAAA;AACrC,IAAI,IAAA,IAAA,CAAA;AACJ,IAAI,IAAA;AACF,MAAO,IAAA,GAAA,IAAA,CAAK,UAAU,KAAK,CAAA,CAAA;AAAA,aACpB,KAAO,EAAA;AACd,MAAA,MAAM,IAAI,KAAM,CAAA,CAAA,4BAAA,EAA+B,GAAG,CAAA,GAAA,EAAM,KAAK,CAAG,CAAA,CAAA,CAAA,CAAA;AAAA,KAClE;AACA,IAAI,IAAA;AACF,MAAK,IAAA,CAAA,GAAA,CAAI,KAAK,IAAI,CAAA,CAAA;AAAA,aACX,KAAO,EAAA;AAEd,MAAA,MAAM,eAAe,IAAI,KAAA,CAAM,wCAAwC,GAAG,CAAA,GAAA,EAAM,KAAK,CAAG,CAAA,CAAA,CAAA,CAAA;AACxF,MAAA,IAAI,iBAAiB,KAAO,EAAA;AAC1B,QAAA,YAAA,CAAa,OAAO,KAAM,CAAA,IAAA,CAAA;AAAA,OAC5B;AACA,MAAM,MAAA,YAAA,CAAA;AAAA,KACR;AACA,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEA,OAAO,GAAa,EAAA;AAClB,IAAO,OAAA,MAAA,CAAO,YAAa,CAAA,GAAG,CAAM,KAAA,KAAA,CAAA,CAAA;AAAA,GACtC;AAAA,EAEA,OAAO,GAAa,EAAA;AAClB,IAAO,MAAA,CAAA,YAAA,CAAa,WAAW,GAAG,CAAA,CAAA;AAAA,GACpC;AACF,CAAA;AAEM,MAAA,KAAA,GAAQ,IAAI,KAAM;;;;"}