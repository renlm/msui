{"version":3,"file":"PromQueryCodeEditor.js","sources":["../../../../src/querybuilder/components/PromQueryCodeEditor.tsx"],"sourcesContent":["// Core Grafana history https://github.com/grafana/grafana/blob/v11.0.0-preview/public/app/plugins/datasource/prometheus/querybuilder/components/PromQueryCodeEditor.tsx\nimport { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useStyles2 } from '@grafana/ui';\n\nimport { PromQueryField } from '../../components/PromQueryField';\nimport { PromQueryEditorProps } from '../../components/types';\n\nimport { PromQueryBuilderExplained } from './PromQueryBuilderExplained';\n\ntype PromQueryCodeEditorProps = PromQueryEditorProps & {\n  showExplain: boolean;\n};\n\nexport function PromQueryCodeEditor(props: PromQueryCodeEditorProps) {\n  const { query, datasource, range, onRunQuery, onChange, data, app, showExplain } = props;\n  const styles = useStyles2(getStyles);\n\n  return (\n    <div\n      data-testid={selectors.components.DataSource.Prometheus.queryEditor.code.queryField}\n      className={styles.wrapper}\n    >\n      <PromQueryField\n        datasource={datasource}\n        query={query}\n        range={range}\n        onRunQuery={onRunQuery}\n        onChange={onChange}\n        history={[]}\n        data={data}\n        app={app}\n      />\n\n      {showExplain && <PromQueryBuilderExplained query={query.expr} />}\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    // This wrapper styling can be removed after the old PromQueryEditor is removed.\n    // This is removing margin bottom on the old legacy inline form styles\n    wrapper: css({\n      '.gf-form': {\n        marginBottom: 0,\n      },\n    }),\n  };\n};\n"],"names":[],"mappings":";;;;;;;AAiBO,SAAS,oBAAoB,KAAiC,EAAA;AACnE,EAAM,MAAA,EAAE,OAAO,UAAY,EAAA,KAAA,EAAO,YAAY,QAAU,EAAA,IAAA,EAAM,GAAK,EAAA,WAAA,EAAgB,GAAA,KAAA,CAAA;AACnF,EAAM,MAAA,MAAA,GAAS,WAAW,SAAS,CAAA,CAAA;AAEnC,EACE,uBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,eAAa,SAAU,CAAA,UAAA,CAAW,UAAW,CAAA,UAAA,CAAW,YAAY,IAAK,CAAA,UAAA;AAAA,MACzE,WAAW,MAAO,CAAA,OAAA;AAAA,KAAA;AAAA,oBAElB,KAAA,CAAA,aAAA;AAAA,MAAC,cAAA;AAAA,MAAA;AAAA,QACC,UAAA;AAAA,QACA,KAAA;AAAA,QACA,KAAA;AAAA,QACA,UAAA;AAAA,QACA,QAAA;AAAA,QACA,SAAS,EAAC;AAAA,QACV,IAAA;AAAA,QACA,GAAA;AAAA,OAAA;AAAA,KACF;AAAA,IAEC,WAAe,oBAAA,KAAA,CAAA,aAAA,CAAC,yBAA0B,EAAA,EAAA,KAAA,EAAO,MAAM,IAAM,EAAA,CAAA;AAAA,GAChE,CAAA;AAEJ,CAAA;AAEA,MAAM,SAAA,GAAY,CAAC,KAAyB,KAAA;AAC1C,EAAO,OAAA;AAAA;AAAA;AAAA,IAGL,SAAS,GAAI,CAAA;AAAA,MACX,UAAY,EAAA;AAAA,QACV,YAAc,EAAA,CAAA;AAAA,OAChB;AAAA,KACD,CAAA;AAAA,GACH,CAAA;AACF,CAAA;;;;"}