{"version":3,"file":"PromQueryBuilderExplained.js","sources":["../../../../src/querybuilder/components/PromQueryBuilderExplained.tsx"],"sourcesContent":["// Core Grafana history https://github.com/grafana/grafana/blob/v11.0.0-preview/public/app/plugins/datasource/prometheus/querybuilder/components/PromQueryBuilderExplained.tsx\nimport React from 'react';\n\nimport { Stack } from '@grafana/ui';\n\nimport promqlGrammar from '../../promql';\nimport { promQueryModeller } from '../PromQueryModeller';\nimport { buildVisualQueryFromString } from '../parsing';\nimport { OperationExplainedBox } from '../shared/OperationExplainedBox';\nimport { OperationListExplained } from '../shared/OperationListExplained';\nimport { RawQuery } from '../shared/RawQuery';\nimport { PromVisualQuery } from '../types';\n\nexport const EXPLAIN_LABEL_FILTER_CONTENT = 'Fetch all series matching metric name and label filters.';\n\nexport interface PromQueryBuilderExplainedProps {\n  query: string;\n}\n\nexport const PromQueryBuilderExplained = React.memo<PromQueryBuilderExplainedProps>(({ query }) => {\n  const visQuery = buildVisualQueryFromString(query || '').query;\n  const lang = { grammar: promqlGrammar, name: 'promql' };\n\n  return (\n    <Stack gap={0.5} direction=\"column\">\n      <OperationExplainedBox\n        stepNumber={1}\n        title={<RawQuery query={`${visQuery.metric} ${promQueryModeller.renderLabels(visQuery.labels)}`} lang={lang} />}\n      >\n        {EXPLAIN_LABEL_FILTER_CONTENT}\n      </OperationExplainedBox>\n      <OperationListExplained<PromVisualQuery>\n        stepNumber={2}\n        queryModeller={promQueryModeller}\n        query={visQuery}\n        lang={lang}\n      />\n    </Stack>\n  );\n});\n\nPromQueryBuilderExplained.displayName = 'PromQueryBuilderExplained';\n"],"names":[],"mappings":";;;;;;;;;AAaO,MAAM,4BAA+B,GAAA,2DAAA;AAMrC,MAAM,4BAA4B,KAAM,CAAA,IAAA,CAAqC,CAAC,EAAE,OAAY,KAAA;AACjG,EAAA,MAAM,QAAW,GAAA,0BAAA,CAA2B,KAAS,IAAA,EAAE,CAAE,CAAA,KAAA,CAAA;AACzD,EAAA,MAAM,IAAO,GAAA,EAAE,OAAS,EAAA,aAAA,EAAe,MAAM,QAAS,EAAA,CAAA;AAEtD,EAAA,uBACG,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,EAAM,GAAK,EAAA,GAAA,EAAK,WAAU,QACzB,EAAA,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,qBAAA;AAAA,IAAA;AAAA,MACC,UAAY,EAAA,CAAA;AAAA,MACZ,KAAO,kBAAA,KAAA,CAAA,aAAA,CAAC,QAAS,EAAA,EAAA,KAAA,EAAO,GAAG,QAAS,CAAA,MAAM,CAAI,CAAA,EAAA,iBAAA,CAAkB,YAAa,CAAA,QAAA,CAAS,MAAM,CAAC,IAAI,IAAY,EAAA,CAAA;AAAA,KAAA;AAAA,IAE5G,4BAAA;AAAA,GAEH,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,sBAAA;AAAA,IAAA;AAAA,MACC,UAAY,EAAA,CAAA;AAAA,MACZ,aAAe,EAAA,iBAAA;AAAA,MACf,KAAO,EAAA,QAAA;AAAA,MACP,IAAA;AAAA,KAAA;AAAA,GAEJ,CAAA,CAAA;AAEJ,CAAC,EAAA;AAED,yBAAA,CAA0B,WAAc,GAAA,2BAAA;;;;"}