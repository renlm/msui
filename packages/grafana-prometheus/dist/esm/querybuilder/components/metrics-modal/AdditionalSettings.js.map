{"version":3,"file":"AdditionalSettings.js","sources":["../../../../../src/querybuilder/components/metrics-modal/AdditionalSettings.tsx"],"sourcesContent":["// Core Grafana history https://github.com/grafana/grafana/blob/v11.0.0-preview/public/app/plugins/datasource/prometheus/querybuilder/components/metrics-modal/AdditionalSettings.tsx\nimport { css } from '@emotion/css';\nimport React from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Icon, Switch, Tooltip, useTheme2 } from '@grafana/ui';\n\nimport { metricsModaltestIds } from './MetricsModal';\nimport { placeholders } from './state/helpers';\nimport { MetricsModalState } from './state/state';\n\ntype AdditionalSettingsProps = {\n  state: MetricsModalState;\n  onChangeFullMetaSearch: () => void;\n  onChangeIncludeNullMetadata: () => void;\n  onChangeDisableTextWrap: () => void;\n  onChangeUseBackend: () => void;\n};\n\nexport function AdditionalSettings(props: AdditionalSettingsProps) {\n  const { state, onChangeFullMetaSearch, onChangeIncludeNullMetadata, onChangeDisableTextWrap, onChangeUseBackend } =\n    props;\n\n  const theme = useTheme2();\n  const styles = getStyles(theme);\n\n  return (\n    <>\n      <div className={styles.selectItem}>\n        <Switch\n          data-testid={metricsModaltestIds.searchWithMetadata}\n          value={state.fullMetaSearch}\n          disabled={state.useBackend || !state.hasMetadata}\n          onChange={() => onChangeFullMetaSearch()}\n        />\n        <div className={styles.selectItemLabel}>{placeholders.metadataSearchSwitch}</div>\n      </div>\n      <div className={styles.selectItem}>\n        <Switch\n          value={state.includeNullMetadata}\n          disabled={!state.hasMetadata}\n          onChange={() => onChangeIncludeNullMetadata()}\n        />\n        <div className={styles.selectItemLabel}>{placeholders.includeNullMetadata}</div>\n      </div>\n      <div className={styles.selectItem}>\n        <Switch value={state.disableTextWrap} onChange={() => onChangeDisableTextWrap()} />\n        <div className={styles.selectItemLabel}>Disable text wrap</div>\n      </div>\n      <div className={styles.selectItem}>\n        <Switch\n          data-testid={metricsModaltestIds.setUseBackend}\n          value={state.useBackend}\n          onChange={() => onChangeUseBackend()}\n        />\n        <div className={styles.selectItemLabel}>{placeholders.setUseBackend}&nbsp;</div>\n        <Tooltip\n          content={'Filter metric names by regex search, using an additional call on the Prometheus API.'}\n          placement=\"bottom-end\"\n        >\n          <Icon name=\"info-circle\" size=\"xs\" className={styles.settingsIcon} />\n        </Tooltip>\n      </div>\n    </>\n  );\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    settingsIcon: css({\n      color: theme.colors.text.secondary,\n    }),\n    selectItem: css({\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      padding: '4px 0',\n    }),\n    selectItemLabel: css({\n      margin: `0 0 0 ${theme.spacing(1)}`,\n      alignSelf: 'center',\n      color: theme.colors.text.secondary,\n      fontSize: '12px',\n    }),\n  };\n}\n"],"names":[],"mappings":"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"}