{"version":3,"file":"createTransitions.js","sources":["../../../src/themes/createTransitions.ts"],"sourcesContent":["// Code based on Material UI\n// The MIT License (MIT)\n// Copyright (c) 2014 Call-Em-All\n\n// Follow https://material.google.com/motion/duration-easing.html#duration-easing-natural-easing-curves\n// to learn the context in which each easing should be used.\nconst easing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)',\n};\n\n// Follow https://material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n// to learn when use what timing\nconst duration = {\n  shortest: 150,\n  shorter: 200,\n  short: 250,\n  // most basic recommended timing\n  standard: 300,\n  // this is to be used in complex animations\n  complex: 375,\n  // recommended when something is entering screen\n  enteringScreen: 225,\n  // recommended when something is leaving screen\n  leavingScreen: 195,\n};\n\n/** @alpha */\nexport interface CreateTransitionOptions {\n  duration?: number | string;\n  easing?: string;\n  delay?: number | string;\n}\n\n/** @alpha */\nexport function create(props: string | string[] = ['all'], options: CreateTransitionOptions = {}) {\n  const { duration: durationOption = duration.standard, easing: easingOption = easing.easeInOut, delay = 0 } = options;\n\n  return (Array.isArray(props) ? props : [props])\n    .map(\n      (animatedProp) =>\n        `${animatedProp} ${\n          typeof durationOption === 'string' ? durationOption : formatMs(durationOption)\n        } ${easingOption} ${typeof delay === 'string' ? delay : formatMs(delay)}`\n    )\n    .join(',');\n}\n\ntype ReducedMotionProps = 'no-preference' | 'reduce';\n\nexport function handleMotion(...props: ReducedMotionProps[]) {\n  return props.map((prop) => `@media (prefers-reduced-motion: ${prop})`).join(',');\n}\n\nexport function getAutoHeightDuration(height: number) {\n  if (!height) {\n    return 0;\n  }\n\n  const constant = height / 36;\n\n  // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n  return Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10);\n}\n\nfunction formatMs(milliseconds: number) {\n  return `${Math.round(milliseconds)}ms`;\n}\n\n/** @alpha */\nexport interface ThemeTransitions {\n  create: typeof create;\n  duration: typeof duration;\n  easing: typeof easing;\n  getAutoHeightDuration: typeof getAutoHeightDuration;\n  handleMotion: typeof handleMotion;\n}\n\n/** @internal */\nexport function createTransitions(): ThemeTransitions {\n  return {\n    create,\n    duration,\n    easing,\n    getAutoHeightDuration,\n    handleMotion,\n  };\n}\n"],"names":[],"mappings":"AAMA,MAAM,MAAS,GAAA;AAAA;AAAA,EAEb,SAAW,EAAA,8BAAA;AAAA;AAAA;AAAA,EAGX,OAAS,EAAA,8BAAA;AAAA;AAAA,EAET,MAAQ,EAAA,4BAAA;AAAA;AAAA,EAER,KAAO,EAAA,8BAAA;AACT,CAAA,CAAA;AAIA,MAAM,QAAW,GAAA;AAAA,EACf,QAAU,EAAA,GAAA;AAAA,EACV,OAAS,EAAA,GAAA;AAAA,EACT,KAAO,EAAA,GAAA;AAAA;AAAA,EAEP,QAAU,EAAA,GAAA;AAAA;AAAA,EAEV,OAAS,EAAA,GAAA;AAAA;AAAA,EAET,cAAgB,EAAA,GAAA;AAAA;AAAA,EAEhB,aAAe,EAAA,GAAA;AACjB,CAAA,CAAA;AAUO,SAAS,OAAO,KAA2B,GAAA,CAAC,KAAK,CAAG,EAAA,OAAA,GAAmC,EAAI,EAAA;AAChG,EAAM,MAAA,EAAE,QAAU,EAAA,cAAA,GAAiB,QAAS,CAAA,QAAA,EAAU,MAAQ,EAAA,YAAA,GAAe,MAAO,CAAA,SAAA,EAAW,KAAQ,GAAA,CAAA,EAAM,GAAA,OAAA,CAAA;AAE7G,EAAA,OAAA,CAAQ,MAAM,OAAQ,CAAA,KAAK,IAAI,KAAQ,GAAA,CAAC,KAAK,CAC1C,EAAA,GAAA;AAAA,IACC,CAAC,iBACC,CAAG,EAAA,YAAY,IACb,OAAO,cAAA,KAAmB,WAAW,cAAiB,GAAA,QAAA,CAAS,cAAc,CAC/E,CAAA,CAAA,EAAI,YAAY,CAAI,CAAA,EAAA,OAAO,UAAU,QAAW,GAAA,KAAA,GAAQ,QAAS,CAAA,KAAK,CAAC,CAAA,CAAA;AAAA,GAC3E,CACC,KAAK,GAAG,CAAA,CAAA;AACb,CAAA;AAIO,SAAS,gBAAgB,KAA6B,EAAA;AAC3D,EAAO,OAAA,KAAA,CAAM,IAAI,CAAC,IAAA,KAAS,mCAAmC,IAAI,CAAA,CAAA,CAAG,CAAE,CAAA,IAAA,CAAK,GAAG,CAAA,CAAA;AACjF,CAAA;AAEO,SAAS,sBAAsB,MAAgB,EAAA;AACpD,EAAA,IAAI,CAAC,MAAQ,EAAA;AACX,IAAO,OAAA,CAAA,CAAA;AAAA,GACT;AAEA,EAAA,MAAM,WAAW,MAAS,GAAA,EAAA,CAAA;AAG1B,EAAO,OAAA,IAAA,CAAK,OAAO,CAAI,GAAA,EAAA,GAAK,YAAY,IAAO,GAAA,QAAA,GAAW,KAAK,EAAE,CAAA,CAAA;AACnE,CAAA;AAEA,SAAS,SAAS,YAAsB,EAAA;AACtC,EAAA,OAAO,CAAG,EAAA,IAAA,CAAK,KAAM,CAAA,YAAY,CAAC,CAAA,EAAA,CAAA,CAAA;AACpC,CAAA;AAYO,SAAS,iBAAsC,GAAA;AACpD,EAAO,OAAA;AAAA,IACL,MAAA;AAAA,IACA,QAAA;AAAA,IACA,MAAA;AAAA,IACA,qBAAA;AAAA,IACA,YAAA;AAAA,GACF,CAAA;AACF;;;;"}