{"version":3,"file":"registry.js","sources":["../../../src/themes/registry.ts"],"sourcesContent":["import { Registry, RegistryItem } from '../utils/Registry';\n\nimport { createTheme } from './createTheme';\nimport { GrafanaTheme2 } from './types';\n\nexport interface ThemeRegistryItem extends RegistryItem {\n  isExtra?: boolean;\n  build: () => GrafanaTheme2;\n}\n\n/**\n * @internal\n * Only for internal use, never use this from a plugin\n **/\nexport function getThemeById(id: string): GrafanaTheme2 {\n  const theme = themeRegistry.getIfExists(id) ?? themeRegistry.get('dark');\n  return theme.build();\n}\n\n/**\n * @internal\n * For internal use only\n */\nexport function getBuiltInThemes(includeExtras?: boolean) {\n  return themeRegistry.list().filter((item) => {\n    return includeExtras ? true : !item.isExtra;\n  });\n}\n\n/**\n * There is also a backend list at services/perferences/themes.go\n */\nconst themeRegistry = new Registry<ThemeRegistryItem>(() => {\n  return [\n    { id: 'system', name: 'System preference', build: getSystemPreferenceTheme },\n    { id: 'dark', name: 'Dark', build: () => createTheme({ colors: { mode: 'dark' } }) },\n    { id: 'light', name: 'Light', build: () => createTheme({ colors: { mode: 'light' } }) },\n    { id: 'blue-night', name: 'Blue night', build: createBlueNight, isExtra: true },\n    { id: 'midnight', name: 'Midnight', build: createMidnight, isExtra: true },\n  ];\n});\n\nfunction getSystemPreferenceTheme() {\n  const mediaResult = window.matchMedia('(prefers-color-scheme: dark)');\n  const id = mediaResult.matches ? 'dark' : 'light';\n  return getThemeById(id);\n}\n\n/**\n * Just a temporary placeholder for a possible new theme\n */\nfunction createMidnight(): GrafanaTheme2 {\n  const whiteBase = '204, 204, 220';\n\n  return createTheme({\n    name: 'Midnight',\n    colors: {\n      mode: 'dark',\n      background: {\n        canvas: '#000000',\n        primary: '#000000',\n        secondary: '#181818',\n      },\n      border: {\n        weak: `rgba(${whiteBase}, 0.17)`,\n        medium: `rgba(${whiteBase}, 0.25)`,\n        strong: `rgba(${whiteBase}, 0.35)`,\n      },\n    },\n  });\n}\n\n/**\n * Just a temporary placeholder for a possible new theme\n */\nfunction createBlueNight(): GrafanaTheme2 {\n  return createTheme({\n    name: 'Blue night',\n    colors: {\n      mode: 'dark',\n      background: {\n        canvas: '#15161d',\n        primary: '#15161d',\n        secondary: '#1d1f2e',\n      },\n      border: {\n        weak: `#2e304f`,\n        medium: `#2e304f`,\n        strong: `#2e304f`,\n      },\n    },\n  });\n}\n"],"names":[],"mappings":"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"}